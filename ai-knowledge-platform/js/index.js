/* AIÁü•ËØÜÂπ≥Âè∞ - È¶ñÈ°µËÑöÊú¨ */

// È¶ñÈ°µÊï∞ÊçÆ
const HomePageData = {
    features: [
        {
            icon: 'ü§ñ',
            title: 'AIÂâçÊ≤øÊäÄÊúØ',
            description: 'Ê∑±Â∫¶Ëß£Êûê‰∫∫Â∑•Êô∫ËÉΩÊúÄÊñ∞ÊäÄÊúØË∂ãÂäø„ÄÅÁÆóÊ≥ïÂéüÁêÜÂíåÂ∫îÁî®Âú∫ÊôØÔºåÂä©‰Ω†ÊääÊè°AIÂèëÂ±ïËÑâÊêè„ÄÇ'
        },
        {
            icon: 'üìö',
            title: 'Á≥ªÁªüÂåñÂ≠¶‰π†',
            description: '‰ªéÂü∫Á°ÄÊ¶ÇÂøµÂà∞È´òÁ∫ßÂ∫îÁî®ÔºåÊûÑÂª∫ÂÆåÊï¥ÁöÑAIÁü•ËØÜ‰ΩìÁ≥ªÔºåÂæ™Â∫èÊ∏êËøõÊéåÊè°AIÊäÄËÉΩ„ÄÇ'
        },
        {
            icon: 'üí°',
            title: 'ÂÆûÊàòÊ°à‰æã',
            description: '‰∏∞ÂØåÁöÑAIÈ°πÁõÆÂÆûÊàòÊ°à‰æãÔºåÁêÜËÆ∫‰∏éÂÆûË∑µÁõ∏ÁªìÂêàÔºåÂø´ÈÄüÊèêÂçáAIÂ∫îÁî®ÂºÄÂèëËÉΩÂäõ„ÄÇ'
        },
        {
            icon: 'üåü',
            title: '‰∏ìÂÆ∂ÂàÜ‰∫´',
            description: 'AIÈ¢ÜÂüü‰∏ìÂÆ∂ÂÆöÊúüÂàÜ‰∫´ÁªèÈ™åÂøÉÂæóÔºå‰∫ÜËß£Ë°å‰∏öÂä®ÊÄÅÔºåËé∑Âæó‰∏ì‰∏öÊåáÂØºÂíåÂª∫ËÆÆ„ÄÇ'
        },
        {
            icon: 'üöÄ',
            title: 'ÂàõÊñ∞Â∫îÁî®',
            description: 'Êé¢Á¥¢AIÂú®ÂêÑË°å‰∏öÁöÑÂàõÊñ∞Â∫îÁî®ÔºåÂêØÂèëÊÄùÁª¥ÔºåÂèëÁé∞AIÊäÄÊúØÁöÑÂïÜ‰∏ö‰ª∑ÂÄº„ÄÇ'
        },
        {
            icon: 'üîß',
            title: 'Â∑•ÂÖ∑ËµÑÊ∫ê',
            description: 'Á≤æÈÄâAIÂºÄÂèëÂ∑•ÂÖ∑„ÄÅÊ°ÜÊû∂ÂíåÂ≠¶‰π†ËµÑÊ∫êÔºåÊèêÈ´òÂ≠¶‰π†ÊïàÁéáÔºåÂä†ÈÄüÈ°πÁõÆÂºÄÂèë„ÄÇ'
        }
    ],

    articles: [
        {
            id: 1,
            title: 'GPT-4ÊäÄÊúØËß£ÊûêÔºöÁêÜËß£Â§ßÂûãËØ≠Ë®ÄÊ®°ÂûãÁöÑÁ™ÅÁ†¥',
            excerpt: 'Ê∑±ÂÖ•Êé¢ËÆ®GPT-4ÁöÑÊäÄÊúØÊû∂ÊûÑ„ÄÅËÆ≠ÁªÉÊñπÊ≥ïÂíåËÉΩÂäõËæπÁïåÔºåÂàÜÊûêÂÖ∂Âú®Ëá™ÁÑ∂ËØ≠Ë®ÄÂ§ÑÁêÜÈ¢ÜÂüüÁöÑÈáçÂ§ßÁ™ÅÁ†¥...',
            category: 'AIÊ®°Âûã',
            author: 'AI‰∏ìÂÆ∂',
            date: '2024-01-15',
            readTime: '15ÂàÜÈíü',
            isPremium: true,
            image: 'https://images.unsplash.com/photo-1677756119517-756a179e41d7?w=400&h=200&fit=crop',
            views: 2456
        },
        {
            id: 2,
            title: 'Êú∫Âô®Â≠¶‰π†ÂÖ•Èó®Ôºö‰ªéÈõ∂ÂºÄÂßãÁêÜËß£MLÁÆóÊ≥ï',
            excerpt: '‰∏∫ÂàùÂ≠¶ËÄÖÈáèË∫´ÂÆöÂà∂ÁöÑÊú∫Âô®Â≠¶‰π†ÊåáÂçóÔºåÁî®ÈÄö‰øóÊòìÊáÇÁöÑÊñπÂºèËß£ÈáäÊ†∏ÂøÉÁÆóÊ≥ïÊ¶ÇÂøµÂíåÂ∫îÁî®ÊñπÊ≥ï...',
            category: 'Êú∫Âô®Â≠¶‰π†',
            author: 'MLÂ∑•Á®ãÂ∏à',
            date: '2024-01-14',
            readTime: '12ÂàÜÈíü',
            isPremium: false,
            image: 'https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=400&h=200&fit=crop',
            views: 1823
        },
        {
            id: 3,
            title: 'Ê∑±Â∫¶Â≠¶‰π†Ê°ÜÊû∂ÂØπÊØîÔºöTensorFlow vs PyTorch',
            excerpt: 'ÂÖ®Èù¢ÂØπÊØî‰∏§Â§ß‰∏ªÊµÅÊ∑±Â∫¶Â≠¶‰π†Ê°ÜÊû∂ÁöÑ‰ºòÁº∫ÁÇπÔºåÂ∏ÆÂä©ÂºÄÂèëËÄÖÈÄâÊã©ÊúÄÈÄÇÂêàÁöÑÂ∑•ÂÖ∑...',
            category: 'Ê∑±Â∫¶Â≠¶‰π†',
            author: 'DLÁ†îÁ©∂Âëò',
            date: '2024-01-13',
            readTime: '18ÂàÜÈíü',
            isPremium: true,
            image: 'https://images.unsplash.com/photo-1620712943543-bcc4688e7485?w=400&h=200&fit=crop',
            views: 3127
        },
        {
            id: 4,
            title: 'ËÆ°ÁÆóÊú∫ËßÜËßâÂÆûÊàòÔºöÂõæÂÉèËØÜÂà´È°πÁõÆÂºÄÂèëÊåáÂçó',
            excerpt: '‰ªéÊï∞ÊçÆÂáÜÂ§áÂà∞Ê®°ÂûãÈÉ®ÁΩ≤ÔºåÂÆåÊï¥‰ªãÁªçËÆ°ÁÆóÊú∫ËßÜËßâÈ°πÁõÆÁöÑÂºÄÂèëÊµÅÁ®ãÂíåÊúÄ‰Ω≥ÂÆûË∑µ...',
            category: 'ËÆ°ÁÆóÊú∫ËßÜËßâ',
            author: 'CV‰∏ìÂÆ∂',
            date: '2024-01-12',
            readTime: '20ÂàÜÈíü',
            isPremium: false,
            image: 'https://images.unsplash.com/photo-1555255707-c07966088b7b?w=400&h=200&fit=crop',
            views: 1654
        },
        {
            id: 5,
            title: 'Ëá™ÁÑ∂ËØ≠Ë®ÄÂ§ÑÁêÜÔºöÊñáÊú¨ÂàÜÊûêÊäÄÊúØÂÖ®Èù¢Ëß£Êûê',
            excerpt: 'Ê∑±ÂÖ•Êé¢ËÆ®NLPÊ†∏ÂøÉÊäÄÊúØÔºåÂåÖÊã¨ÂàÜËØç„ÄÅÊÉÖÊÑüÂàÜÊûê„ÄÅÂëΩÂêçÂÆû‰ΩìËØÜÂà´Á≠âÂÖ≥ÈîÆ‰ªªÂä°...',
            category: 'NLP',
            author: 'NLPÁ†îÁ©∂Âëò',
            date: '2024-01-11',
            readTime: '16ÂàÜÈíü',
            isPremium: true,
            image: 'https://images.unsplash.com/photo-1628348068343-c6a8e5c754ab?w=400&h=200&fit=crop',
            views: 2891
        },
        {
            id: 6,
            title: 'Âº∫ÂåñÂ≠¶‰π†ÂÖ•Èó®ÔºöQ-LearningÁÆóÊ≥ïËØ¶Ëß£',
            excerpt: '‰ªéÂü∫Á°ÄÊ¶ÇÂøµÂà∞ÂÆûÈôÖÂ∫îÁî®ÔºåËØ¶ÁªÜ‰ªãÁªçÂº∫ÂåñÂ≠¶‰π†ÁöÑÊ†∏ÂøÉÁÆóÊ≥ïQ-Learning...',
            category: 'Âº∫ÂåñÂ≠¶‰π†',
            author: 'RL‰∏ìÂÆ∂',
            date: '2024-01-10',
            readTime: '14ÂàÜÈíü',
            isPremium: false,
            image: 'https://images.unsplash.com/photo-1515879218367-8466d910aaa4?w=400&h=200&fit=crop',
            views: 1432
        }
    ],

    stats: [
        { number: '1000+', label: 'AIÊñáÁ´†' },
        { number: '50+', label: '‰∏ìÂÆ∂‰ΩúËÄÖ' },
        { number: '10‰∏á+', label: 'ËØªËÄÖ' },
        { number: '4.8', label: 'Áî®Êà∑ËØÑÂàÜ' }
    ]
};

// È¶ñÈ°µÊéßÂà∂Âô®
class IndexPage {
    constructor() {
        this.data = HomePageData;
        this.init();
    }

    init() {
        this.renderFeatures();
        this.renderArticles();
        this.renderStats();
        this.bindEvents();
        this.initAnimations();
        this.initScrollEffects();
    }

    renderFeatures() {
        const container = document.querySelector('.features-grid');
        if (!container) return;

        container.innerHTML = this.data.features.map((feature, index) => `
            <div class="feature-card fade-in-up delay-${index + 1}">
                <div class="feature-icon">${feature.icon}</div>
                <h3 class="feature-title">${feature.title}</h3>
                <p class="feature-description">${feature.description}</p>
            </div>
        `).join('');
    }

    renderArticles() {
        const container = document.querySelector('.articles-grid');
        if (!container) return;

        // ÂèñÂâç6ÁØáÊñáÁ´†ÊòæÁ§∫
        const recentArticles = this.data.articles.slice(0, 6);

        container.innerHTML = recentArticles.map((article, index) => `
            <article class="article-card fade-in-up delay-${index + 1}" data-id="${article.id}">
                ${article.isPremium ? '<div class="article-card-badge">‰ªòË¥π</div>' : ''}
                <img src="${article.image}" alt="${article.title}" class="article-card-image">
                <div class="article-card-content">
                    <div class="article-card-category">${article.category}</div>
                    <h3 class="article-card-title">${article.title}</h3>
                    <p class="article-card-excerpt">${article.excerpt}</p>
                    <div class="article-card-meta">
                        <div class="article-card-author">
                            <div class="article-card-author-avatar"></div>
                            <span>${article.author}</span>
                        </div>
                        <div class="article-card-stats">
                            <span>üìñ ${article.readTime}</span>
                            <span>üëÅÔ∏è ${article.views}</span>
                        </div>
                    </div>
                </div>
            </article>
        `).join('');

        // ÁªëÂÆöÊñáÁ´†Âç°ÁâáÁÇπÂáª‰∫ã‰ª∂
        container.querySelectorAll('.article-card').forEach(card => {
            card.addEventListener('click', () => {
                const articleId = card.dataset.id;
                this.navigateToArticle(articleId);
            });
        });
    }

    renderStats() {
        const container = document.querySelector('.stats-grid');
        if (!container) return;

        container.innerHTML = this.data.stats.map((stat, index) => `
            <div class="stat-item fade-in-up delay-${index + 1}">
                <span class="stat-number" data-target="${stat.number}">${stat.number}</span>
                <div class="stat-label">${stat.label}</div>
            </div>
        `).join('');
    }

    bindEvents() {
        // CTAÊåâÈíÆ‰∫ã‰ª∂
        document.querySelectorAll('.cta-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const action = btn.dataset.action;
                this.handleCTA(action, e);
            });
        });

        // Êü•ÁúãÂÖ®ÈÉ®ÊñáÁ´†
        const viewAllLink = document.querySelector('.view-all-link');
        if (viewAllLink) {
            viewAllLink.addEventListener('click', (e) => {
                e.preventDefault();
                window.location.href = 'articles.html';
            });
        }

        // ÊêúÁ¥¢ÂäüËÉΩ
        const searchInput = document.querySelector('.hero-search');
        if (searchInput) {
            searchInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    this.handleSearch(e.target.value);
                }
            });
        }

        // ËÆ¢ÈòÖÂäüËÉΩ
        const subscribeForm = document.querySelector('.subscribe-form');
        if (subscribeForm) {
            subscribeForm.addEventListener('submit', (e) => {
                e.preventDefault();
                this.handleSubscribe(e.target);
            });
        }
    }

    handleCTA(action, event) {
        switch (action) {
            case 'start-learning':
                if (UserManager.isAuthenticated()) {
                    window.location.href = 'articles.html';
                } else {
                    ToastManager.info('ËØ∑ÂÖàÁôªÂΩïË¥¶Âè∑');
                    setTimeout(() => {
                        window.location.href = 'auth.html';
                    }, 1000);
                }
                break;
            case 'view-premium':
                window.location.href = 'membership.html';
                break;
            case 'start-free':
                if (UserManager.isAuthenticated()) {
                    ToastManager.success('Ê¨¢ËøéÂºÄÂßãÂ≠¶‰π†‰πãÊóÖÔºÅ');
                    window.location.href = 'articles.html';
                } else {
                    window.location.href = 'auth.html';
                }
                break;
            default:
                console.warn('Êú™Áü•ÁöÑCTAÊìç‰Ωú:', action);
        }
    }

    handleSearch(query) {
        if (!query.trim()) {
            ToastManager.warning('ËØ∑ËæìÂÖ•ÊêúÁ¥¢ÂÖ≥ÈîÆËØç');
            return;
        }

        // Ë∑≥ËΩ¨Âà∞ÊñáÁ´†ÂàóË°®È°µÈù¢Âπ∂‰º†ÈÄíÊêúÁ¥¢ÂèÇÊï∞
        window.location.href = `articles.html?search=${encodeURIComponent(query.trim())}`;
    }

    handleSubscribe(form) {
        const email = form.email.value.trim();

        if (!Utils.validateEmail(email)) {
            ToastManager.error('ËØ∑ËæìÂÖ•ÊúâÊïàÁöÑÈÇÆÁÆ±Âú∞ÂùÄ');
            return;
        }

        // Ê®°ÊãüËÆ¢ÈòÖËØ∑Ê±Ç
        ToastManager.info('Ê≠£Âú®ËÆ¢ÈòÖ...');

        setTimeout(() => {
            ToastManager.success('ËÆ¢ÈòÖÊàêÂäüÔºÅÊÇ®Â∞ÜÊî∂Âà∞ÊúÄÊñ∞ÁöÑAIËµÑËÆØ');
            form.reset();

            // ‰øùÂ≠òËÆ¢ÈòÖ‰ø°ÊÅØ
            const subscribers = Utils.storage.get('subscribers', []);
            subscribers.push({
                email,
                date: new Date().toISOString()
            });
            Utils.storage.set('subscribers', subscribers);
        }, 1500);
    }

    navigateToArticle(articleId) {
        const article = this.data.articles.find(a => a.id == articleId);

        if (!article) return;

        // Ê£ÄÊü•ÊòØÂê¶‰∏∫‰ªòË¥πÊñáÁ´†
        if (article.isPremium) {
            if (!UserManager.isAuthenticated()) {
                ToastManager.warning('Ê≠§‰∏∫‰ªòË¥πÊñáÁ´†ÔºåËØ∑ÂÖàÁôªÂΩï');
                setTimeout(() => {
                    window.location.href = `auth.html?redirect=article.html?id=${articleId}`;
                }, 1000);
                return;
            }

            const user = UserManager.currentUser;
            if (!user.isPremium) {
                ToastManager.warning('Ê≠§‰∏∫‰ªòË¥πÊñáÁ´†ÔºåËØ∑ÂºÄÈÄö‰ºöÂëò');
                setTimeout(() => {
                    window.location.href = 'membership.html';
                }, 1000);
                return;
            }
        }

        // Ë∑≥ËΩ¨Âà∞ÊñáÁ´†ËØ¶ÊÉÖÈ°µ
        window.location.href = `article.html?id=${articleId}`;
    }

    initAnimations() {
        // Êï∞Â≠óÈÄíÂ¢ûÂä®Áîª
        this.animateNumbers();

        // È°µÈù¢Âä†ËΩΩÂä®Áîª
        this.animateOnLoad();
    }

    animateNumbers() {
        const numbers = document.querySelectorAll('.stat-number');

        numbers.forEach(number => {
            const target = number.textContent;
            const hasPlus = target.includes('+');
            const numericValue = parseInt(target.replace(/\D/g, ''));
            const duration = 2000;
            const steps = 60;
            const increment = numericValue / steps;
            let current = 0;
            let step = 0;

            const timer = setInterval(() => {
                step++;
                current += increment;

                if (step >= steps) {
                    number.textContent = target;
                    clearInterval(timer);
                } else {
                    const displayValue = Math.floor(current);
                    number.textContent = hasPlus ? `${displayValue}+` : displayValue;
                }
            }, duration / steps);
        });
    }

    animateOnLoad() {
        // Ê∑ªÂä†Âä†ËΩΩÂä®ÁîªÁ±ª
        const elements = document.querySelectorAll('.fade-in-up, .fade-in-left, .fade-in-right');
        elements.forEach(el => {
            el.style.opacity = '0';
        });

        // Âª∂ËøüÊòæÁ§∫Âä®Áîª
        setTimeout(() => {
            elements.forEach((el, index) => {
                setTimeout(() => {
                    el.style.opacity = '1';
                    el.style.animation = el.classList.contains('fade-in-up') ?
                        'fadeInUp 0.8s ease-out forwards' :
                        el.classList.contains('fade-in-left') ?
                        'fadeInLeft 0.8s ease-out forwards' :
                        'fadeInRight 0.8s ease-out forwards';
                }, index * 100);
            });
        }, 300);
    }

    initScrollEffects() {
        // ÊªöÂä®ÊòæÁ§∫Âä®Áîª
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('revealed');
                }
            });
        }, observerOptions);

        // ËßÇÂØüÊâÄÊúâÈúÄË¶ÅÊªöÂä®ÊòæÁ§∫ÁöÑÂÖÉÁ¥†
        const scrollElements = document.querySelectorAll('.feature-card, .article-card, .stat-item');
        scrollElements.forEach(el => {
            el.classList.add('scroll-reveal');
            observer.observe(el);
        });

        // ËßÜÂ∑ÆÊªöÂä®ÊïàÊûú
        window.addEventListener('scroll', Utils.throttle(() => {
            const scrolled = window.pageYOffset;
            const hero = document.querySelector('.hero');

            if (hero) {
                hero.style.transform = `translateY(${scrolled * 0.5}px)`;
            }
        }, 16));
    }
}

// È°µÈù¢ÂàùÂßãÂåñÂáΩÊï∞
function IndexPageInit() {
    // Ê£ÄÊü•ÊòØÂê¶Âú®È¶ñÈ°µ
    if (!document.body.classList.contains('index-page')) return;

    // ÂàõÂª∫È¶ñÈ°µÂÆû‰æã
    window.indexPage = new IndexPage();

    // È¶ñÈ°µÁâπÂÆöÁöÑÂàùÂßãÂåñ
    console.log('È¶ñÈ°µÂàùÂßãÂåñÂÆåÊàê');

    // ÁªëÂÆöÈ°µÈù¢ÂèØËßÅÊÄß‰∫ã‰ª∂
    EventBus.on('page:visible', () => {
        // È°µÈù¢ÈáçÊñ∞ÂèØËßÅÊó∂Âà∑Êñ∞Êï∞ÊçÆ
        if (window.indexPage) {
            window.indexPage.renderArticles();
        }
    });

    // ÁõëÂê¨Áî®Êà∑ÁôªÂΩïÁä∂ÊÄÅÂèòÂåñ
    EventBus.on('user:login', () => {
        // Áî®Êà∑ÁôªÂΩïÂêéÊõ¥Êñ∞UI
        window.indexPage.renderArticles();
    });

    EventBus.on('user:logout', () => {
        // Áî®Êà∑ÁôªÂá∫ÂêéÊõ¥Êñ∞UI
        window.indexPage.renderArticles();
    });
}

// È°µÈù¢SEO‰ºòÂåñ
function optimizeSEO() {
    // Âä®ÊÄÅËÆæÁΩÆÈ°µÈù¢Ê†áÈ¢ò
    document.title = 'AIÁü•ËØÜÂπ≥Âè∞ - ‰∫∫Â∑•Êô∫ËÉΩÂ≠¶‰π†‰∏é‰∫§ÊµÅÁ§æÂå∫';

    // ËÆæÁΩÆÈ°µÈù¢ÊèèËø∞
    const description = document.querySelector('meta[name="description"]');
    if (description) {
        description.content = 'AIÁü•ËØÜÂπ≥Âè∞Êèê‰æõÊúÄÊñ∞ÁöÑ‰∫∫Â∑•Êô∫ËÉΩÊäÄÊúØÊñáÁ´†„ÄÅÂ≠¶‰π†ËµÑÊ∫êÂíåÂÆûÊàòÊ°à‰æãÔºåÂä©ÊÇ®ÊéåÊè°AIÊäÄËÉΩÔºåÊàê‰∏∫AI‰∏ìÂÆ∂„ÄÇ';
    }

    // ËÆæÁΩÆÂÖ≥ÈîÆËØç
    const keywords = document.querySelector('meta[name="keywords"]');
    if (keywords) {
        keywords.content = '‰∫∫Â∑•Êô∫ËÉΩ,Êú∫Âô®Â≠¶‰π†,Ê∑±Â∫¶Â≠¶‰π†,NLP,ËÆ°ÁÆóÊú∫ËßÜËßâ,AIÊïôÁ®ã,ÊäÄÊúØÊñáÁ´†';
    }

    // Ê∑ªÂä†ÁªìÊûÑÂåñÊï∞ÊçÆ
    const structuredData = {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "AIÁü•ËØÜÂπ≥Âè∞",
        "description": "‰∫∫Â∑•Êô∫ËÉΩÂ≠¶‰π†‰∏é‰∫§ÊµÅÁ§æÂå∫",
        "url": window.location.origin,
        "potentialAction": {
            "@type": "SearchAction",
            "target": `${window.location.origin}/articles.html?search={search_term_string}`,
            "query-input": "required name=search_term_string"
        }
    };

    const script = document.createElement('script');
    script.type = 'application/ld+json';
    script.textContent = JSON.stringify(structuredData);
    document.head.appendChild(script);
}

// ÊÄßËÉΩÁõëÊéß
function trackPagePerformance() {
    // ÁõëÊéßÈ°µÈù¢Âä†ËΩΩÊÄßËÉΩ
    window.addEventListener('load', () => {
        const perfData = performance.getEntriesByType('navigation')[0];
        const loadTime = perfData.loadEventEnd - perfData.navigationStart;

        // Â¶ÇÊûúÊúâÂàÜÊûêÊúçÂä°ÔºåÂèØ‰ª•ÂèëÈÄÅÊï∞ÊçÆ
        if (window.gtag) {
            window.gtag('event', 'page_load_time', {
                custom_parameter: loadTime
            });
        }

        console.log(`È¶ñÈ°µÂä†ËΩΩÊó∂Èó¥: ${loadTime}ms`);
    });

    // ÁõëÊéßÁî®Êà∑‰∫§‰∫í
    let interactionStartTime = Date.now();
    let firstInteraction = true;

    ['click', 'scroll', 'keydown'].forEach(eventType => {
        document.addEventListener(eventType, () => {
            if (firstInteraction) {
                const timeToInteraction = Date.now() - interactionStartTime;
                console.log(`È¶ñÊ¨°‰∫§‰∫íÊó∂Èó¥: ${timeToInteraction}ms`);
                firstInteraction = false;
            }
        }, { once: true });
    });
}

// ÂàùÂßãÂåñ
document.addEventListener('DOMContentLoaded', () => {
    optimizeSEO();
    trackPagePerformance();
});

// ÂØºÂá∫‰æõÂÖ®Â±Ä‰ΩøÁî®
window.IndexPageInit = IndexPageInit;